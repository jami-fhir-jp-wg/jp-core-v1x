<!-- -*- coding: utf-8-unix -*-)-->


# <a href="#FHIRガイド" name="FHIRガイド">FHIRガイド ◆</a>

FHIRのサーバ・クライアントにおける仕様の解釈などについて
記述します。

FHIR仕様を使ったシステムの実現・利用については次のような課題があります。

* FHIR仕には解釈を定めにくい仕様があります。  
たとえばToken型検索では、「大文字・小文字を区別しないという指定が無い限り大文字・小文字を区別する」という[記述](https://hl7.org/fhir/R4/search.html#:~:text=Match%20is%20case%20sensitive,CodeSystem.caseSensitive%29 )がありますが、その
[Note](https://hl7.org/fhir/R4/search.html#:~:text=When%20in%20doubt,excluding%20desired%20behavior.  )には「サーバは大文字・小文字の区別が疑わしい場合には大文字・小文字を区別しないようにすべきである」という記述もあり、どう扱うべきかが明かではありません。

* FHIR仕様には、これまでの電子カルテシステムのアーキテクチャと異なる部分があり、
システム構築において注意すべき点があります。  
たとえばFHIRはRESTアーキテクチャを採用していますが、必要とする情報のリンク先
がダウンしたり誤動作したりしたときにどのように対処すべきかは明かではありません。

* FHIR仕様には、日本独自のユースケースに対応しにくい部分があります。
たとえば、FHIRではリソースリポジトリのすべての改変履歴を保存する前提ですが、
日本では個人情報などを痕跡を残さずに消去するユースケースが存在します。

この文書は、これらの課題を記述して議論し改訂して行くという前提で作成しています。

* 課題が多様であるため粒度が揃っていません。
* 仕様の解釈については必要であればHL7協会への問い合わせることも検討します。


## <a href="#FHIR仕様の解釈" name="FHIR仕様の解釈">FHIR仕様の解釈 ◆</a>

* [URLのエンコーディング](url.md)
* [Logical IDの管理とリソースのコピー](logicalId.md)
* Provenanceリソースを伴うコピー
* 細かい仕様の確認
    * Token型検索におけるCase-sensitivity
    * 時刻の扱い
    * filterにおける[]演算子

## <a href="#FHIRアーキテクチャの注意点" name="FHIRアーキテクチャの注意点">FHIRアーキテクチャの注意点 ◆</a>

* REST先ダウン・誤動作
* リソースコピーの伝播
* セキュリティ

## <a href="#日本で重要なユースケース" name="日本で重要なユースケース">日本で重要なユースケース ◆</a>

* 不同意個人情報の削除

## <a href="#その他" name="その他">その他 ◆</a>

* [HL7協会への照会・提案](hl7question.md)
* [FHIR-JPへの提案](fhirjpIdea.md)


