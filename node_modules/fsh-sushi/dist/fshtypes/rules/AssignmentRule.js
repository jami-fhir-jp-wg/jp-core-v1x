"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AssignmentRule = void 0;
const Rule_1 = require("./Rule");
const FshCode_1 = require("../FshCode");
const FshQuantity_1 = require("../FshQuantity");
const FshRatio_1 = require("../FshRatio");
const FshReference_1 = require("../FshReference");
const FshCanonical_1 = require("../FshCanonical");
const common_1 = require("../common");
class AssignmentRule extends Rule_1.Rule {
    constructor(path) {
        super(path);
    }
    get constructorName() {
        return 'AssignmentRule';
    }
    toFSH() {
        var _a;
        let printableValue = '';
        if (typeof this.value === 'boolean' ||
            typeof this.value === 'number' ||
            typeof this.value === 'bigint') {
            printableValue = (_a = this.rawValue) !== null && _a !== void 0 ? _a : String(this.value);
        }
        else if (typeof this.value === 'string') {
            printableValue = this.isInstance ? this.value : `"${(0, common_1.fshifyString)(this.value)}"`;
        }
        else if (this.value instanceof FshCode_1.FshCode ||
            this.value instanceof FshQuantity_1.FshQuantity ||
            this.value instanceof FshRatio_1.FshRatio ||
            this.value instanceof FshReference_1.FshReference ||
            this.value instanceof FshCanonical_1.FshCanonical) {
            printableValue = this.value.toString();
        }
        else {
            printableValue = this.value.id;
        }
        return `* ${this.path} = ${printableValue}${this.exactly ? ' (exactly)' : ''}`;
    }
}
exports.AssignmentRule = AssignmentRule;
//# sourceMappingURL=AssignmentRule.js.map