import { FSHTank } from '../import/FSHTank';
import { StructureDefinition, InstanceDefinition } from '../fhirtypes';
import { Instance } from '../fshtypes';
import { Fishable, Metadata, MasterFisher } from '../utils';
import { Package } from '.';
export declare class InstanceExporter implements Fishable {
    private readonly tank;
    private readonly pkg;
    private readonly fisher;
    sdCache: Map<string, StructureDefinition>;
    constructor(tank: FSHTank, pkg: Package, fisher: MasterFisher);
    /**
     * Checks if there exist Instances of Custom Resources, which are not supported
     * by the IG Publisher and are therefore not included in the IG.
     */
    private warnOnInstanceOfCustomResource;
    private setAssignedValues;
    /**
     * Check that all required elements are present on an InstanceDefinition or
     * a sub-part of an InstanceDefinition for all children of an element.
     * An element is required if it has minimum cardinality greater than 1.
     * @param {{[key: string]: any}} instance - The InstanceDefinition or subsection of an InstanceDefinition we are validating
     * @param {ElementDefinition} element - The element we are trying to validate all children of
     * @param {Instance} fshDefinition - The FSH definition that we built the original InstanceDefinition from
     */
    private validateRequiredChildElements;
    /**
     * Check that all required elements are present on an instance
     * @param {InstanceDefinition} instanceDef - The InstanceDefinition we are validating
     * @param {ElementDefinition[]} elements - The elements of the StructDef that instanceDef is an instance of
     * @param {Instance} fshDefinition - The FSH definition that we built instanceDef from
     */
    private validateRequiredElements;
    private shouldSetMetaProfile;
    private shouldSetId;
    /**
     * This function analyzes an exported instance looking at all sliced paths and attempting to
     * detect cases where an array item matches a required (implied) slice but was not assigned
     * using a slice name. We want to detect and warn on this because it very often results in
     * undesirable outputs like repeated and/or incomplete array items. Before manualSliceOrdering,
     * most of these cases just overwrote the implied slice instead of being prepended before the
     * slice.
     */
    private checkForNamelessSlices;
    fishForFHIR(item: string): InstanceDefinition;
    fishForMetadata(item: string): Metadata;
    applyInsertRules(): void;
    exportInstance(fshDefinition: Instance): InstanceDefinition;
    /**
     * Exports Instances
     * @param {FSHTank} tank - The FSH tank we are exporting
     * @returns {Package}
     */
    export(): Package;
}
